<form-input><form-input-body>
<div class="tab-custom">
	<uib-tabset>
			<uib-tab heading='Thông tin chính'>
				<div class="form-group">
					<label class="control-label col-sm-2">Mã vật tư </label>
					<div class="col-sm-4">
						<input type="text" name ='ma_vt' style="text-transform:uppercase" class="form-control" ng-model='data.ma_vt' placeholder='Mã sản phẩm sẽ tự sinh ra nếu để trống'>

					</div>
					<label class="control-label col-sm-2">Mã vật tư NCC </label>
					<div class="col-sm-4">
						<input type="text" style="text-transform:uppercase" class="form-control" ng-model='data.ma_vt2'>
					</div>
				</div>
				<div class="form-group">

					<label class="control-label col-sm-2">Tên vật tư <span style='color:red' title='Tên vật tư không được trống'>(*)</span></label>
					<div class="col-sm-10">
						<input type="text" name ='ten_vt' class="form-control" ng-model='data.ten_vt' ng-required="true">
					</div>
				</div>


				<div class="form-group">
					<label class="control-label col-sm-2">Giá xuất <span style='color:red' title='Không được trống'>(*)</span></label>
					<div class="col-sm-4">
						<select ng-model="data.gia_xuat" ng-required="true" class="form-control">
							<option value="1">Trung bình tháng</option>
							<option value="2">Nhập trước xuất trước</option>
							<option value="3">Đích danh</option>
						</select>
					</div>

					<label class="control-label col-sm-2">Đơn vị tính <span style='color:red' title='Đơn vị tính không được trống'>(*)</span></label>
					<div class="col-sm-4">
						<ng-typeahead
							module="dmdvt" fields ="ma_dvt,ten_dvt" field-model="ma_dvt" field-label="ten_dvt"
							ng-model="data.ma_dvt" label="data.ten_dvt"  ng-required="true">
						</ng-typeahead>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-sm-2"  ng-show="app_info.show_gia_von">Giá mua </label>
					<div class="col-sm-4"  ng-show="app_info.show_gia_von">
						<input type="text" format="number" class="form-control" ng-model="data.gia_mua"/>
					</div>

					<label class="control-label col-sm-2">Nhà cung cấp </label>
					<div class="col-sm-4">
						<ng-typeahead
							module='dmkh' fields='ma_kh,ten_kh' field-model='ten_kh' field-label='ma_kh'
							ng-model='data.ten_ncc' label='data.ma_ncc'>
						</ng-typeahead>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-sm-2">Giá bán gốc </label>
					<div class="col-sm-2">
						<input type="text" format="number" class="form-control" ng-model="data.gia_ban_le0"/>
					</div>
					<label class="control-label col-sm-1" style='color:green' title='Giá bán khai báo trong danh mục giá bán hoặc giá gốc'>Giá hiện tại </label>
					<div class="col-sm-1">
						<input type="text" format="number" class="form-control" ng-model="data.gia_ban_le" ng-readonly='true' title='Giá bán khai báo trong danh mục giá bán hoặc giá gốc'/>
					</div>

					<label class="control-label col-sm-2">Thuế GTGT </label>
					<div class="col-sm-2">
						<ng-selector ng-model="data.ma_thue" module="dmvat" fields="ma_thue,ten_thue" field-model="ma_thue" field-label="ten_thue" emty-yn="true">
						</ng-selector>
					</div>
				</div>

				<div class="form-group">
					<label class="control-label col-sm-2">Tỷ lệ chiết khấu </label>
					<div class="col-sm-4">
						<input type="text" format="number" class="form-control" ng-model="data.ty_le_ck0"/>
					</div>
					<label class="control-label col-sm-2">Tiền chiết khấu </label>
					<div class="col-sm-4">
						<input type="text" format="number" class="form-control" ng-model="data.tien_ck0"/>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-sm-2">Thuế suất nhập khẩu </label>
					<div class="col-sm-4">
						<input type="text" format="number" class="form-control" ng-model="data.thue_suat_nk"/>
					</div>

				</div>

				<div class="form-group">
					<label class="control-label col-sm-2">Nhóm sản phẩm</label>
					<div class="col-sm-4">
						<ng-typeahead
							module='dmnvt' fields ='_id,ten_nvt,bac,sysorder' field-model='ten_nvt' field-label='_id'
							ng-model="data.ten_nvt" label ="data.ma_nvt">
						</ng-typeahead>
					</div>

					<label class="control-label col-sm-2">{{app_info.options.ten_nvt2||'Loại nhóm 2'}}</label>
					<div class="col-sm-4">
						<ng-selector placeholder=""
							module="group" fields="_id,group_name" field-model="group_name" field-label = "group_name"
							condition ="group_type:'VT2'"  ng-model='data.ma_nvt2' default-values="group_type:'VT2'">
						</ng-selector>
					</div>

				</div>
				<div class="form-group">
					<label class="control-label col-sm-2">{{app_info.options.ten_nvt3||'Loại nhóm 3'}}</label>
					<div class="col-sm-4">
						<ng-selector placeholder=""
							module="group" fields="_id,group_name" field-model="group_name" field-label = "group_name"
							condition ="group_type:'VT3'"  ng-model='data.ma_nvt3' default-values="group_type:'VT3'">
						</ng-selector>
					</div>

					<label class="control-label col-sm-2">{{app_info.options.ten_nvt4||'Loại nhóm 4'}}</label>
					<div class="col-sm-4">
						<ng-selector placeholder=""
							module="group" fields="_id,group_name" field-model="group_name" field-label = "group_name"
							condition ="group_type:'VT4'"  ng-model='data.ma_nvt4' default-values="group_type:'VT4'">
						</ng-selector>
					</div>


				</div>

				<div class="form-group">
					<label class="control-label col-sm-2">Nhãn</label>
					<div class="col-sm-10">
							<ng-selector
								module='label' fields='label_name' field-model='label_name' field-label='label_name'
								multiple="true" ng-model='data.labels' empty_yn='true'
								condition ="label_type:'DMVT'" default-values="label_type:'DMVT'">
							</ng-selector>
					</div>
				</div>


				<div class="form-group">
					<div class="col-sm-offset-2 col-sm-2">
						<div class="checkbox">
							<label><input type="checkbox" ng-model="data.ma_lo_yn" /> Theo dõi theo lô</label>
						</div>
					</div>
					<div class="col-sm-2">
						<div class="checkbox">
							<label><input type="checkbox" ng-model="data.ma_tt1_yn" /> Theo dõi theo tt 1</label>
						</div>
					</div>
					<div class="col-sm-2">
						<div class="checkbox">
							<label><input type="checkbox" ng-model="data.ma_tt2_yn" /> Theo dõi theo tt 2</label>
						</div>
					</div>
					<div class="col-sm-2">
						<div class="checkbox">
							<label><input type="checkbox" ng-model="data.ma_tt3_yn" /> Theo dõi theo tt 3</label>
						</div>
					</div>

				</div>

				<div class="form-group">
					<div class="col-sm-offset-2 col-sm-2">
						<div class="checkbox">
							<label><input type="checkbox" ng-model="data.tg_tk" /> Theo dõi tồn kho</label>
						</div>
					</div>
					<div class="col-sm-2">
						<div class="checkbox">
							<label><input type="checkbox" ng-model="data.status" /> Còn sử dụng</label>
						</div>
					</div>

				</div>
				<div class="form-group">
					<label class="col-sm-2 text-right">Có giá trị với </label>
					<div class="col-sm-10">
						<label ng-repeat="item in [{v:0,t:'Mọi người'},{v:1,t:'Chỉ người tạo'},{v:2,t:'Những người sau'}]" style="padding-right:10px">
							<input type='radio' ng-model='data.visible_to' name='visible_to' ng-value="item.v"/> {{item.t}}
						</label>
						<ui-select ng-show='data.visible_to==2'  multiple ng-model="data.visible_to_users" theme="bootstrap"  close-on-select="false"  title="Chọn một user">
							 <ui-select-match placeholder="Chọn user..">{{$item.name}}</ui-select-match>
							 <ui-select-choices repeat="person.email as person in members | propsFilter: {name: $select.search, email: $select.search}">

								 <small>
									 {{person.name}}

								 </small>
							 </ui-select-choices>
						 </ui-select>
					</div>
				</div>
			</uib-tab>
			<uib-tab heading="Hình ảnh">
				<div  file-upload-progress>
					<div class="throbber-loader"></div>
					<br/>
				 </div>
				<div class="form-group">
					<div class="ui five doubling cards" style="margin:2px">
						<div class="ui card">
						  <div class="image">
							<img  img-cache ic-src="{{server_url}}{{data.picture_thumb}}">
						  </div>

						  <div class="extra content">
							<input type="file" image-upload  model ='data.picture' model-thumb='data.picture_thumb'/>
						  </div>
						</div>

						<div class="ui card">
						  <div class="image">
							<img  img-cache ic-src="{{server_url}}{{data.picture2_thumb}}">
						  </div>

						  <div class="extra content">
							<input type="file" image-upload  model ='data.picture2' model-thumb='data.picture2_thumb'/>
						  </div>
						</div>

						<div class="ui card">
						  <div class="image">
							<img  img-cache ic-src="{{server_url}}{{data.picture3_thumb}}">
						  </div>

						  <div class="extra content">
							<input type="file" image-upload  model ='data.picture3' model-thumb='data.picture3_thumb'/>
						  </div>
						</div>
						<div class="ui card">
						  <div class="image">
							<img  img-cache ic-src="{{server_url}}{{data.picture4_thumb}}">
						  </div>

						  <div class="extra content">
							<input type="file" image-upload  model ='data.picture4' model-thumb='data.picture4_thumb'/>
						  </div>
						</div>

						<div class="ui card">
						  <div class="image">
							<img  img-cache ic-src="{{server_url}}{{data.picture5_thumb}}">
						  </div>

						  <div class="extra content">
							<input type="file" image-upload  model ='data.picture5' model-thumb='data.picture5_thumb'/>
						  </div>
						</div>
					</div>

				</div>
			</uib-tab>
			<uib-tab heading='Miêu tả'>
				<div>
					<label class="control-label">Thuộc tính</label>
					<div>
						<table class='table'>
							<tr ng-repeat="r in data.thuoc_tinh">
								<td>
									<input type='text' class='form-control' ng-model='r.name' placeholder='Tên thuộc tính'/>
								</td>
								<td>

									<input type='text' class='form-control' ng-model='r.value' placeholder='Giá trị'/>

								</td>
								<td>
									<a class='btn btn-danger' ng-click='STP.reject(data.thuoc_tinh,{line:r.line})'>-</a>
								</td>
							</tr>
							<tr>
								<td colspan='3'>
									<a class='btn btn-default' ng-click='data.thuoc_tinh = STP.add(data.thuoc_tinh,{})'>+</a>
								</td>
							</tr>
						</table>
					</div>
				</div>
				<div>
					<label class="control-label">Mô tả ngắn</label>
					<div>
						<textarea ui-tinymce="tinymceOptions" ng-model="data.mieu_ta"></textarea>
					</div>
				</div>
				<div>
					<label class="control-label">Mô tả chi tiết</label>
					<div>
						<textarea ui-tinymce="tinymceOptions" ng-model="data.mieu_ta_chi_tiet"></textarea>
					</div>
				</div>

				<div>

					<label class="control-label">Tình trạng</label>
					<div>
						<select class='form-control' ng-model='data.tinh_trang'>
							<option value='1'>Đang có hàng</option>
							<option value='2'>Sắp có hàng</option>
							<option value='3'>Hết hàng</option>
						</select>
					</div>
				</div>
				<div>
					<label class="control-label">Ưu đãi & khuyến mãi</label>
					<div>

						<textarea ui-tinymce="tinymceOptions" ng-model="data.khuyen_mai"></textarea>
					</div>
				</div>

				<div>
					<label class="control-label">Xuất xứ</label>
					<div>

						<ng-selector
							module="group" fields="_id,group_name" field-model="group_name" field-label = "group_name"
							condition ="group_type:'XUAT_XU'"  ng-model='data.xuat_xu' default-values="group_type:'XUAT_XU'">
						</ng-selector>
					</div>
				</div>

				<div>
					<label class="control-label">Nhãn hiệu</label>
					<div>
						<ng-selector
							module="group" fields="_id,group_name" field-model="group_name" field-label = "group_name"
							condition ="group_type:'NHAN_HIEU'"  ng-model='data.nhan_hieu' default-values="group_type:'NHAN_HIEU'">
						</ng-selector>
					</div>
				</div>



				<div>
					<div class="checkbox">
						<label><input type="checkbox" ng-model="data.hot" /> Sản phẩm HOT</label>
					</div>
				</div>
				<div>
					<div class="checkbox">
						<label><input type="checkbox" ng-model="data.bestseller" /> Sản phẩm bán chạy nhất</label>
					</div>
				</div>
				<div>
					<div class="checkbox">
						<label><input type="checkbox" ng-model="data.banner_small" /> Sản phẩm nổi bật</label>
					</div>
				</div>
				<div>
					<div class="checkbox">
						<label><input type="checkbox" ng-model="data.banner_large" /> Slide</label>
					</div>
				</div>
			</uib-tab>

			<uib-tab heading='Kế toán'>
				<div class="form-group">
					<label class="control-label col-sm-2">TK vật tư <span style='color:red' title='không được trống'>(*)</span></label>
					<div class="col-sm-4">
						<ng-typeahead
							module="dmtk" fields ="tk,ten_tk" field-model="tk" field-label ="ten_tk" condition="loai_tk:1"  ng-required="true"
							ng-model="data.tk_vt" label="data.ten_tk_vt">
						</ng-typeahead>
					</div>
					<div class='col-sm-6 field-label'>{{data.ten_tk_vt}}</div>
				</div>

				<div class="form-group">
					<label class="control-label col-sm-2">TK doanh thu</label>
					<div class="col-sm-4">
						<ng-typeahead
							module="dmtk" fields ="tk,ten_tk" field-model="tk" field-label ="ten_tk" condition="loai_tk:1"
							ng-model="data.tk_dt" label="data.ten_tk_dt">
						</ng-typeahead>
					</div>
					<div class='col-sm-6 field-label' >{{data.ten_tk_dt}}</div>
				</div>

				<div class="form-group">
					<label class="control-label col-sm-2">TK giá vốn</label>
					<div class="col-sm-4">
						<ng-typeahead
							module="dmtk" fields ="tk,ten_tk" field-model="tk" field-label ="ten_tk" condition="loai_tk:1"
							ng-model="data.tk_gv" label="data.ten_tk_gv">
						</ng-typeahead>
					</div>
					<div class='col-sm-6 field-label' >{{data.ten_tk_gv}}</div>
				</div>

				<div class="form-group">
					<label class="control-label col-sm-2">TK trả lại</label>
					<div class="col-sm-4">
						<ng-typeahead
							module="dmtk" fields ="tk,ten_tk" field-model="tk" field-label ="ten_tk" condition="loai_tk:1"
							ng-model="data.tk_tl" label="data.ten_tk_tl">
						</ng-typeahead>
					</div>
					<div class='col-sm-6 field-label' >{{data.ten_tk_tl}}</div>
				</div>

				<div class="form-group">
					<label class="control-label col-sm-2">TK đại lý</label>
					<div class="col-sm-4">
						<ng-typeahead
							module="dmtk" fields ="tk,ten_tk" field-model="tk" field-label ="ten_tk" condition="loai_tk:1"
							ng-model="data.tk_dl" label="data.ten_tk_dl">
						</ng-typeahead>
					</div>
					<div class='col-sm-6 field-label' >{{data.ten_tk_dl}}</div>
				</div>
			</uib-tab>
			<uib-tab heading="{{getLabel('BO_XUNG','Đặc thù').text}} (*)" ng-show="data.options && data.options.fields && data.options.fields.length>0">
				<!--extra fields-->
				<div class="form-group" ng-repeat="field in  data.options.fields">
					<label class="control-label col-md-2">{{field.title}} <span class="required" ng-show="field.required">(*)</span></label>
					<div class="col-md-4">
							<input type="text" ng-if="field.type=='text'"  ng-model="data.exfields[field.name]" class="form-control" ng-required="field.required"/>
							<input type="text" format='number' ng-if="field.type=='number'"  ng-model="data.exfields[field.name]" class="form-control"ng-required="field.required"/>
							<ng-datepicker ng-model="data.exfields[field.name]" ng-if="field.type=='date'" ng-required="field.required"></ng-datepicker>

					</div>
				</div>
				<!--end extra fields-->
			</uib-tab>
	</uib-tabset>
</div>
	</form-input-body></form-input>
